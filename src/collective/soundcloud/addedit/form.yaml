factory: form
name: soundcloud_add_edit
props:
    action: expr:context.action
    class: edit-form enableUnloadProtection
widgets:
- title:
    factory: field:label:error:text
    value: expr:context.trackdata['title']
    props:
        label: Title
        required: Title needed.
- description:
    factory: field:label:error:textarea
    value: expr:context.trackdata['description']
    props:
        label: Description
        help: describe the sound
        help_class: formHelp
        rows: 5
- asset_data:
    factory: field:label:file
    value: expr:context.trackdata['asset_data']
    props:
        label: Sound Asset
        vocabulary: expr:context.vocab_fileopts
        help: sound in a format accepted by soundcloud
        help_class: formHelp
        required: No sound without a file.        
- track_type:
    factory: field:label:error:select
    value: expr:context.trackdata['track_type']
    props:
        label: Track Type
        vocabulary: expr:context.vocab_track_types
        help: select one of the types
        help_class: formHelp
- genre:
    factory: field:label:error:text
    value: expr:context.trackdata['genre']
    props:
        label: Genre
        help: select one genre
        help_class: formHelp
- tag_list:
    factory: field:label:error:text
    value: expr:context.trackdata['tag_list']
    props:
        label: Tags
        help: Separate with spaces or use quotation marks (e.g. "spoken word")
        help_class: formHelp
- license:
    factory: field:label:error:select
    value: expr:context.trackdata['license']
    props:
        label: License
        vocabulary: expr:context.vocab_licenses
        help: select one of the licenses
        help_class: formHelp
- label_name:
    factory: field:label:error:text
    value: expr:context.trackdata['label_name']
    props:
        label: Label
        help: name of the label
        help_class: formHelp
- release_date:
    factory: field:label:compound
    value: unused
    props:
        label: Release Date
        help: date of the release, format is YEAR MONTH DAY
        help_class: formHelp
        structural: 1 
    widgets:
    - release_year:
        factory: error:number
        value: expr:context.trackdata['release_year']
        props:
            size: 4
            datatype: integer
            min: expr:1800
            max: expr:2100
    - release_month:
        factory: error:number
        value: expr:context.trackdata['release_month']
        props:
            size: 2
            datatype: integer
            min: expr:1
            max: expr:12
    - release_day:
        factory: error:number
        value: expr:context.trackdata['release_day']
        props:
            size: 2
            datatype: integer
            min: expr:1
        
            max: expr:31
- release:
    factory: field:label:error:text
    value: expr:context.trackdata['release']
    props:
        label: Release/catalogue number
        help: number of the release in (your) catalog
        help_class: formHelp   
- isrc:
    factory: field:label:error:text
    value: expr:context.trackdata['isrc']
    props:
        label: ISRC
        help: The International Standard Recording Code (ISRC) is an international standard code for uniquely identifying sound and music video recordings. ISRC's are used by distributors, download sites, retailers and labels to manage digital repertoire. Format is CC-XXX-YY-NNNNN 
        help_class: formHelp   
- bpm:
    factory: field:label:error:number
    value: expr:context.trackdata['bpm']
    props:
        label: BPM
        help: beats per minute 
        help_class: formHelp   
        datatype: float
        min: expr:1
- key_signature:
    factory: field:label:error:text
    value: expr:context.trackdata['key_signature']
    props:
        label: Keys
        help: track key, i.e. Cmaj
        help_class: formHelp         
- purchase_url:
    factory: field:label:error:text
    value: expr:context.trackdata['purchase_url']
    props:
        label: Buy Link
        help: purchase URL, i.e. http://amazon.com/buy/a46aj0c03
        help_class: formHelp
- video_url:
    factory: field:label:error:text
    value: expr:context.trackdata['video_url']
    props:
        label: Video Link
        help: Youtube, Vimeo, Dailymotion and Viddler videos will appear in an on-site player
        help_class: formHelp
- sharing:
    factory: field:label:error:select
    value: expr:context.trackdata['sharing']
    props:
        label: Permissions
        help: Share public to everyone or private for you only?
        help_class: formHelp
        vocabulary: expr:context.vocab_sharing        
- downloadable:
    factory: field:label:error:select
    value: expr:context.trackdata['downloadable']
    props:
        label: Downloads
        vocabulary: expr:context.vocab_download        

- save:
    factory: submit
    props:
        action: save
        expression: True
        handler: context.save
        next: context.next
        label: Save